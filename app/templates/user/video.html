<div class="d-flex justify-content-center align-items-center vh-100 bg-light">
    <!-- Left region for new features (5 buttons) -->
    <div class="d-flex flex-column justify-content-center me-4"> <!-- space-y-8 increases space between buttons -->
        <!-- Button Like -->
        <div class="d-flex flex-column align-items-center mb-4">
            <button id="like-button" class="btn btn-light rounded-circle shadow-sm p-3"> <!-- w-30 h-30 increases button size -->
                <img src="/static/svg/thumbs-up.svg" alt="Like" width="16" height="16">
            </button>
            <span id="like-count" class="small mt-1">1</span> <!-- Initial like count -->
        </div>

        <!-- Button Dislike -->
        <div class="d-flex flex-column align-items-center mb-4">
            <button id="dislike-button" class="btn btn-light rounded-circle shadow-sm p-3"> <!-- w-30 h-30 increases button size -->
                <img src="/static/svg/thumbs-down.svg" alt="Like" width="16" height="16">
            </button>
            <span id="comment-count" class="text-sm">0</span> <!-- Initial comment count -->
        </div>
        <!-- Button Comment -->
        <div class="d-flex flex-column align-items-center mb-4">
            <button id="comment-button" class="btn btn-light rounded-circle shadow-sm p-3"> <!-- w-30 h-30 increases button size -->
                <img src="/static/svg/comment-button.svg" alt="Like" width="16" height="16">
            </button>
            <span id="comment-count" class="text-sm">0</span> <!-- Initial comment count -->
        </div>

        <!-- Button Share -->
        <div class="d-flex flex-column align-items-center mb-4">
            <button id="share-button" class="btn btn-light rounded-circle shadow-sm p-3"> <!-- w-30 h-30 increases button size -->
                <!-- Share icon (SVG) -->
                <img src="/static/svg/share.svg" alt="Like" width="16" height="16">
            </button>
        </div>

        <!-- Button Settings -->
        <button id="settings-button" class="btn btn-light rounded-circle shadow-sm p-3"> <!-- w-30 h-30 increases button size -->
            <!-- Settings icon (SVG) -->
            <img src="/static/svg/settings.svg" alt="Like" width="16" height="16">
        </button>
    </div>

    <!-- Video Section (Centered) -->
    <div class="position-relative bg-white shadow rounded overflow-hidden d-flex flex-column align-items-center mb-4"
         style="width: 30%; height: 80%;">
        <!-- Video Container -->
        <div class="position-relative w-100 h-100">
            <iframe id="video-player" class="position-relative top-0 w-90 h-" src=""
                    title="YouTube video player" frameborder="0" allow="accelerometer; autoplay;
                    clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
        </div>
    </div>

    <!-- Buttons for navigating videos (outside the video, on the right) -->
    <div class="d-flex flex-column ms-4" style="gap: 2rem;">
        <button id="prev-button" class="btn btn-light rounded-circle shadow-sm p-3">
            <img src="/static/svg/arrow-up.svg" alt="Like" width="16" height="16">
        </button>
        <button id="next-button" class="btn btn-light rounded-circle shadow-sm p-3">
            <img src="/static/svg/arrow-down.svg" alt="Like" width="16" height="16">
        </button>
    </div>
</div>
<script>
    let videos = []; // To store the list of videos
    let currentIndex = 0; // To keep track of the current video index

    // Function to load a video by index
    function loadVideo(index) {
        if (index >= 0 && index < videos.length) {
            const video = videos[index];
            const videoPlayer = document.getElementById('video-player');
            videoPlayer.src = video.video_url;
        }
    }

    // Fetch the list of videos from the API
    function fetchVideos() {
        fetch('/api/video/get')
            .then(response => response.json())
            .then(data => {
                videos = data;
                if (videos.length > 0) {
                    loadVideo(0); // Load the first video initially
                }
            })
            .catch(error => console.error('Error fetching videos:', error));
    }

    // Event listeners for navigation buttons
    document.getElementById('prev-button').addEventListener('click', function () {
        if (currentIndex > 0) {
            currentIndex -= 1;
            loadVideo(currentIndex);
        }
    });

    document.getElementById('next-button').addEventListener('click', function () {
        if (currentIndex < videos.length - 1) {
            currentIndex += 1;
            loadVideo(currentIndex);
        }
    });

    // Event listener for mouse wheel scroll
    window.addEventListener('wheel', function (event) {
        if (event.deltaY < 0) {
            // Scroll up
            if (currentIndex > 0) {
                currentIndex -= 1;
                loadVideo(currentIndex);
            }
        } else if (event.deltaY > 0) {
            // Scroll down
            if (currentIndex < videos.length - 1) {
                currentIndex += 1;
                loadVideo(currentIndex);
            }
        }
    });

    // Like button functionality
    let likeCount = 1;
    document.getElementById('like-button').addEventListener('click', function () {
        likeCount += 1;
        document.getElementById('like-count').innerText = likeCount;
    });

    // Placeholder functionality for other buttons
    document.getElementById('comment-button').addEventListener('click', function () {
        alert('Comment functionality not implemented yet');
    });

    document.getElementById('dislike-button').addEventListener('click', function () {
        alert('Dislike functionality not implemented yet');
    });

    document.getElementById('share-button').addEventListener('click', function () {
        alert('Share functionality not implemented yet');
    });

    document.getElementById('settings-button').addEventListener('click', function () {
        alert('Settings functionality not implemented yet');
    });

    // Initial call to fetch and load videos
    fetchVideos();
</script>
